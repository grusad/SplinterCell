[gd_scene load_steps=11 format=2]

[ext_resource path="res://assets/gridtiles.meshlib" type="MeshLibrary" id=1]
[ext_resource path="res://src/Entity/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/Entity/DummyEnemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/Entity/OmniLightSource.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/Test.gd" type="Script" id=5]
[ext_resource path="res://src/Entity/SpotLightSource.tscn" type="PackedScene" id=6]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( 2.6447, 0.4, -9.8553, 3.2447, 0.4, -9.8553, 3.3447, 0.4, -10.2553, 2.5447, 0.4, -10.2553, 3.3447, 0.4, -10.2553, 6.7447, 0.4, -11.7553, 6.6447, 1.2, -12.1553, 2.5447, 0.4, -10.2553, 6.1322, 0.4, -11.9178, 6.6447, 1.2, -12.1553, 6.9447, 1.4, -12.2553, 6.9447, 1.4, -13.7553, 7.7447, 0.4, -10.2553, 7.7447, 0.4, -11.7553, 6.7447, 0.4, -11.7553, 3.3447, 0.4, -10.2553, -1.7553, 0.4, -13.7553, -1.7553, 0.4, -10.2553, 2.5447, 0.4, -10.2553, 6.6447, 1.2, -12.1553, 6.9447, 1.4, -13.7553, 5.7847, 0.4, -13.7553, 6.1322, 0.4, -11.9178, 6.9447, 1.4, -13.7553, 6.9447, 1.4, -12.2553, 7.1447, 1.6, -12.2553, 11.7447, 2.4, -13.7553, 8.01137, 2.4, -13.7553, 8.16693, 2.4, -12.5886, -1.7553, 2.4, -7.0553, -1.7553, 2.4, -0.255298, 0.144702, 2.4, -0.255298, 11.7447, 2.4, -13.7553, 7.1447, 1.6, -12.2553, 7.1447, 2.4, -11.8553, 11.7447, 2.4, -7.0553, 8.16693, 2.4, -12.5886, 0.244702, 2.4, 0.544703, 5.7447, 2.4, 0.544703, 5.8447, 2.4, -0.255298, 0.144702, 2.4, -0.255298, 5.8447, 2.4, -0.255298, 11.7447, 2.4, -0.255298, 11.7447, 2.4, -7.0553, 3.9447, 2.4, -11.8553, 3.8447, 2.4, -13.7553, -1.7553, 2.4, -13.7553, -1.7553, 2.4, -7.0553, 11.7447, 2.4, -7.0553, 7.1447, 2.4, -11.8553, 3.9447, 2.4, -11.8553, -1.7553, 2.4, -7.0553, 0.144702, 2.4, -0.255298, 5.8447, 2.4, -0.255298, 10.5447, 0.4, -10.2553, 10.6447, 0.4, -9.8553, 11.2447, 0.4, -9.8553, 11.3447, 0.4, -10.2553, 11.7447, 0.4, -13.7553, 8.5447, 0.4, -13.7553, 8.5447, 0.4, -10.2553, 10.5447, 0.4, -10.2553, 11.7447, 0.4, -13.7553, 11.3447, 0.4, -10.2553, 11.7447, 0.4, -10.2553, 11.7447, 0.4, -13.7553, 2.6447, 0.4, 0.144703, 3.2447, 0.4, 0.144703, 3.3447, 0.4, -0.255298, 2.5447, 0.4, -0.255298, 3.3447, 0.4, -0.255298, 7.7447, 0.4, -0.255298, 7.7447, 0.4, -6.1553, 3.3447, 0.4, -9.4553, 3.2447, 0.4, -9.8553, 2.6447, 0.4, -9.8553, 2.5447, 0.4, -9.4553, 7.7447, 0.4, -6.1553, 7.7447, 0.4, -7.8553, 2.5447, 0.4, -9.4553, -1.7553, 0.4, -9.4553, -1.7553, 0.4, -0.255298, 2.5447, 0.4, -0.255298, 7.7447, 0.4, -6.1553, 8.1447, 0.4, -6.2553, 8.1447, 0.4, -7.7553, 7.7447, 0.4, -7.8553, 2.5447, 0.4, -0.255298, 3.3447, 0.4, -0.255298, 7.7447, 0.4, -6.1553, 7.7447, 0.4, -7.8553, 7.7447, 0.4, -9.4553, 3.3447, 0.4, -9.4553, 7.7447, 0.4, -7.8553, 3.3447, 0.4, -9.4553, 2.5447, 0.4, -9.4553, 10.5447, 0.4, -4.2553, 10.6447, 0.4, -3.8553, 11.2447, 0.4, -3.8553, 11.3447, 0.4, -4.2553, 8.5447, 0.4, -6.1553, 10.5447, 0.4, -4.2553, 11.3447, 0.4, -4.2553, 11.3447, 0.4, -9.4553, 11.2447, 0.4, -9.8553, 10.6447, 0.4, -9.8553, 10.5447, 0.4, -9.4553, 11.3447, 0.4, -9.4553, 10.5447, 0.4, -9.4553, 8.5447, 0.4, -7.8553, 8.1447, 0.4, -7.7553, 8.1447, 0.4, -6.2553, 8.5447, 0.4, -6.1553, 8.5447, 0.4, -7.8553, 11.7447, 0.4, -9.4553, 11.3447, 0.4, -9.4553, 8.5447, 0.4, -7.8553, 8.5447, 0.4, -6.1553, 11.3447, 0.4, -4.2553, 11.7447, 0.4, -4.2553, 10.5447, 0.4, -9.4553, 8.5447, 0.4, -9.4553, 8.5447, 0.4, -7.8553, 8.5447, 0.4, -6.1553, 8.5447, 0.4, -4.2553, 10.5447, 0.4, -4.2553, 11.3447, 0.4, -3.4553, 11.2447, 0.4, -3.8553, 10.6447, 0.4, -3.8553, 10.5447, 0.4, -3.4553, 11.7447, 0.4, -0.255298, 10.5447, 0.4, -3.4553, 8.5447, 0.4, -3.4553, 8.5447, 0.4, -0.255298, 11.7447, 0.4, -0.255298, 11.7447, 0.4, -0.255298, 11.7447, 0.4, -3.4553, 11.3447, 0.4, -3.4553, 3.2447, 0.4, 0.144703, 2.6447, 0.4, 0.144703, 2.5447, 0.4, 0.544703, 3.3447, 0.4, 0.544703, 0.244702, 0.4, 5.7447, 5.7447, 0.4, 5.7447, 3.3447, 0.4, 0.544703, 2.5447, 0.4, 0.544703, 2.5447, 0.4, 0.544703, 0.244702, 0.4, 0.544703, 0.244702, 0.4, 5.7447, 5.7447, 0.4, 5.7447, 5.7447, 0.4, 0.544703, 3.3447, 0.4, 0.544703, 5.7447, 2.4, 0.544703, 0.244702, 2.4, 0.544703, 0.244702, 2.4, 5.7447, 5.7447, 2.4, 5.7447 )
polygons = [ PoolIntArray( 0, 3, 1 ), PoolIntArray( 1, 3, 2 ), PoolIntArray( 6, 5, 8 ), PoolIntArray( 8, 5, 4 ), PoolIntArray( 8, 4, 7 ), PoolIntArray( 11, 10, 9 ), PoolIntArray( 13, 12, 14 ), PoolIntArray( 14, 12, 15 ), PoolIntArray( 19, 22, 20 ), PoolIntArray( 20, 22, 21 ), PoolIntArray( 21, 22, 18 ), PoolIntArray( 21, 18, 17 ), PoolIntArray( 21, 17, 16 ), PoolIntArray( 25, 24, 28 ), PoolIntArray( 28, 24, 23 ), PoolIntArray( 28, 23, 27 ), PoolIntArray( 28, 27, 26 ), PoolIntArray( 31, 30, 29 ), PoolIntArray( 33, 36, 34 ), PoolIntArray( 34, 36, 32 ), PoolIntArray( 34, 32, 35 ), PoolIntArray( 37, 40, 38 ), PoolIntArray( 38, 40, 39 ), PoolIntArray( 43, 42, 41 ), PoolIntArray( 45, 44, 46 ), PoolIntArray( 46, 44, 47 ), PoolIntArray( 49, 48, 50 ), PoolIntArray( 50, 48, 53 ), PoolIntArray( 50, 53, 51 ), PoolIntArray( 51, 53, 52 ), PoolIntArray( 55, 54, 56 ), PoolIntArray( 56, 54, 57 ), PoolIntArray( 57, 54, 58 ), PoolIntArray( 60, 59, 61 ), PoolIntArray( 61, 59, 62 ), PoolIntArray( 65, 64, 63 ), PoolIntArray( 66, 69, 67 ), PoolIntArray( 67, 69, 68 ), PoolIntArray( 72, 71, 70 ), PoolIntArray( 74, 73, 75 ), PoolIntArray( 75, 73, 76 ), PoolIntArray( 78, 77, 79 ), PoolIntArray( 79, 77, 80 ), PoolIntArray( 80, 77, 82 ), PoolIntArray( 80, 82, 81 ), PoolIntArray( 85, 84, 86 ), PoolIntArray( 86, 84, 83 ), PoolIntArray( 89, 88, 87 ), PoolIntArray( 90, 92, 91 ), PoolIntArray( 95, 94, 93 ), PoolIntArray( 97, 96, 98 ), PoolIntArray( 98, 96, 99 ), PoolIntArray( 102, 101, 100 ), PoolIntArray( 104, 103, 105 ), PoolIntArray( 105, 103, 106 ), PoolIntArray( 109, 108, 107 ), PoolIntArray( 110, 113, 111 ), PoolIntArray( 111, 113, 112 ), PoolIntArray( 115, 114, 116 ), PoolIntArray( 116, 114, 117 ), PoolIntArray( 117, 114, 118 ), PoolIntArray( 118, 114, 119 ), PoolIntArray( 122, 121, 120 ), PoolIntArray( 125, 124, 123 ), PoolIntArray( 127, 126, 128 ), PoolIntArray( 128, 126, 129 ), PoolIntArray( 129, 126, 130 ), PoolIntArray( 132, 131, 133 ), PoolIntArray( 133, 131, 134 ), PoolIntArray( 137, 136, 135 ), PoolIntArray( 138, 141, 139 ), PoolIntArray( 139, 141, 140 ), PoolIntArray( 145, 144, 142 ), PoolIntArray( 142, 144, 143 ), PoolIntArray( 148, 147, 146 ), PoolIntArray( 149, 151, 150 ), PoolIntArray( 155, 154, 152 ), PoolIntArray( 152, 154, 153 ) ]
cell/size = 0.1
agent/height = 1.0
agent/radius = 0.2

[sub_resource type="Curve3D" id=2]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, -9.35013, -0.1, -11.6504, 0, 0, 0, 0, 0, 0, -9.35013, -0.1, -5.65043, 0, 0, 0, 0, 0, 0, -4.35013, -0.1, -5.65043, 0, 0, 0, 0, 0, 0, -0.35013, -0.1, -10.6504, 0, 0, 0, 0, 0, 0, -9.35013, -0.1, -11.6504 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0 )
}

[sub_resource type="ProceduralSky" id=3]
sky_top_color = Color( 0.0117647, 0.0117647, 0.0745098, 1 )
sky_horizon_color = Color( 0.0980392, 0.121569, 0.137255, 1 )
ground_bottom_color = Color( 0.121569, 0.121569, 0.121569, 1 )
ground_horizon_color = Color( 0.0509804, 0.0509804, 0.0509804, 1 )
sun_color = Color( 0.988235, 0.94902, 0.72549, 1 )
sun_latitude = 21.39
sun_curve = 0.00743251
sun_energy = 0.3

[sub_resource type="Environment" id=4]
background_mode = 2
background_sky = SubResource( 3 )
ambient_light_color = Color( 1, 1, 1, 1 )
ambient_light_energy = 16.0

[node name="Test" type="Spatial"]
script = ExtResource( 5 )

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -4 )

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 1 )

[node name="Floor" type="GridMap" parent="Navigation/NavigationMeshInstance"]
mesh_library = ExtResource( 1 )
cell_center_y = false
data = {
"cells": PoolIntArray( 0, 0, 1441795, 1, 0, 1048579, 2, 0, 1048579, 65536, 0, 1048579, 65537, 0, 1048579, 65538, 0, 1048579, 0, 1, 1441795, 1, 1, 1048579, 2, 1, -1609170941, 65536, 1, 1048579, 65537, 1, 1048579, 65538, 1, 1048579, 0, 2, 1441795, 1, 2, 1441795, 2, 2, -1072300029, 65536, 2, 1048579, 65537, 2, 1048579, 65538, 2, -1609564157, 0, 65529, 3, 1, 65529, 3, 2, 65529, 3, 3, 65529, -1609564156, 4, 65529, 3, 5, 65529, -1610612733, 65535, 65529, 3, 65536, 65529, 1048579, 65537, 65529, 1048579, 65540, 65529, 1048579, 65541, 65529, -1609564157, 131071, 65529, 1048579, 0, 65530, -1610612733, 1, 65530, 3, 2, 65530, 536870915, 3, 65530, 3, 4, 65530, 3, 5, 65530, 3, 65535, 65530, 3, 65536, 65530, 1048579, 65537, 65530, 1048579, 65538, 65530, -1609564157, 65539, 65530, 1048579, 65540, 65530, 1048579, 65541, 65530, 1048579, 131071, 65530, 1048579, 0, 65531, 3, 1, 65531, 3, 2, 65531, 3, 3, 65531, 3, 4, 65531, 3, 5, 65531, 3, 65535, 65531, 3, 65536, 65531, 1048579, 65537, 65531, 1048579, 65538, 65531, 1048579, 65539, 65531, 1048579, 65540, 65531, 1048579, 65541, 65531, 1048579, 131071, 65531, 1048579, 0, 65532, 3, 1, 65532, 3, 2, 65532, 3, 3, 65532, 3, 4, 65532, 3, 5, 65532, 3, 65535, 65532, 3, 65536, 65532, 1048579, 65537, 65532, 1048579, 65538, 65532, -1609564157, 65539, 65532, 1048579, 65540, 65532, 1048579, 65541, 65532, 1048579, 131071, 65532, 1048579, 0, 65533, 3, 1, 65533, 3, 2, 65533, 3, 3, 65533, 3, 4, 65533, 3, 5, 65533, 3, 65535, 65533, 3, 65536, 65533, 1048579, 65537, 65533, 537919491, 65538, 65533, 1048579, 65539, 65533, 1048579, 65540, 65533, 1048579, 65541, 65533, 537919491, 131071, 65533, 1048579, 0, 65534, 3, 1, 65534, 3, 2, 65534, 3, 3, 65534, 3, 4, 65534, 3, 5, 65534, 3, 65535, 65534, 3, 65536, 65534, 1048579, 65537, 65534, 1048579, 65538, 65534, 1048579, 65539, 65534, 537919491, 65540, 65534, 537919491, 65541, 65534, 1048579, 131071, 65534, 1048579, 0, 65535, 3, 1, 65535, 3, 2, 65535, 655363, 3, 65535, 655363, 4, 65535, 3, 5, 65535, 3, 65535, 65535, 3, 65536, 65535, 1048579, 65537, 65535, 1048579, 65538, 65535, 1048579, 65539, 65535, 1048579, 65540, 65535, 1048579, 65541, 65535, 1048579, 131071, 65535, 1048579 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Wall" type="GridMap" parent="Navigation/NavigationMeshInstance"]
mesh_library = ExtResource( 1 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PoolIntArray( 1, 0, 1048576, 3, 0, 1048577, 5, 0, 1048576, 7, 0, 1048576, 9, 0, 1048576, 11, 0, 1048578, 131079, 0, 1048576, 131081, 0, 1048576, 131083, 0, 537919490, 0, 1, 0, 6, 1, 655360, 131072, 1, 0, 131078, 1, 655360, 0, 3, -1073741819, 6, 3, 537526272, 131072, 3, 0, 131078, 3, 537526272, 0, 5, 2, 131072, 5, 2, 3, 6, 1048581, 5, 6, 1048578, 131075, 6, 1048576, 131077, 6, 537919490, 1, 65522, 1441793, 3, 65522, 1441792, 5, 65522, 538312704, 7, 65522, 1441792, 9, 65522, 538312704, 65535, 65522, 538312706, 131073, 65522, 1441792, 131075, 65522, 1441792, 131077, 65522, 1075183616, 131079, 65522, 1441792, 131081, 65522, 1441792, 196607, 65522, 1441794, 8, 65523, -1609957376, 12, 65523, 655362, 131084, 65523, 655362, 8, 65525, 537526272, 12, 65525, 655360, 65534, 65525, 0, 131084, 65525, 655360, 196606, 65525, 0, 1, 65526, 1048576, 3, 65526, 1048577, 5, 65526, -1609564160, 7, 65526, -1609564160, 9, 65526, 1048576, 11, 65526, 1048577, 65535, 65526, 1048576, 8, 65527, 655360, 12, 65527, 655360, 65534, 65527, 0, 131084, 65527, 655360, 196606, 65527, 0, 12, 65529, 537526272, 65534, 65529, 0, 131084, 65529, 655360, 196606, 65529, 0, 8, 65531, 537526272, 12, 65531, 655360, 65534, 65531, 0, 131084, 65531, 537526272, 196606, 65531, 0, 9, 65532, 537919488, 11, 65532, 1048577, 8, 65533, 655360, 12, 65533, 537526272, 65534, 65533, 536870912, 131084, 65533, 655360, 196606, 65533, 0, 8, 65535, 537526272, 65534, 65535, 2, 196606, 65535, 536870914 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="DummyEnemy" parent="Navigation" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.35013, 0.1, -1.34957 )
acceleration = 10
max_speed = 3
initial_state = "PatrolState"

[node name="Path" type="Path" parent="Navigation/DummyEnemy"]
curve = SubResource( 2 )

[node name="DummyEnemy2" parent="Navigation" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2, 0, 2 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 4 )

[node name="OmniLightSource" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1 )
flicker_type = 1

[node name="OmniLightSource2" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 5 )
visible = false

[node name="SpotLightSource" parent="." instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 13, 2, 3 )
